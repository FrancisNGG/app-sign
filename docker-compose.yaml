version: '3.8'

services:
  sign-app:
    build: .
    image: app-sign:latest
    container_name: app-sign
    
    # 代码和配置挂载
    volumes:
      - /volume1/docker/app-sign:/app
      - /volume1/docker/app-sign/logs:/app/logs
      - /volume1/docker/app-sign/config:/app/config
    
    working_dir: /app
    
    environment:
      - TZ=Asia/Shanghai
      - PYTHONUNBUFFERED=1
    
    restart: always
    
    # 使用 host 网络模式（DSM 环境中可访问外网）
    network_mode: "host"
